{"ast":null,"code":"var _jsxFileName = \"/Users/philippe/Desktop/saint-remeze-COMPLET-v7.2/frontend/src/pages/AddRemarkPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport apiService from '../services/apiService';\nimport './AddRemarkPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst categories = ['Aide √† la personne', 'Circulation / Stationnement', 'Culture / √âv√©nements', 'Eau et Assainissement', '√âcole et p√©riscolaire', '√âclairage public', 'Espaces verts', 'Propret√©', 'Travaux / Infrastructure', 'Voirie', 'Autre'];\nfunction AddRemarkPage() {\n  _s();\n  const navigate = useNavigate();\n  const fileInputRef = useRef(null);\n  const cameraInputRef = useRef(null);\n  const [formData, setFormData] = useState({\n    category: '',\n    title: '',\n    description: '',\n    photo: null,\n    photoPreview: null,\n    location: null\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [gettingLocation, setGettingLocation] = useState(false);\n  const compressImage = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = e => {\n        const img = new Image();\n        img.onload = () => {\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n          let width = img.width;\n          let height = img.height;\n          const maxSize = 1200;\n          if (width > maxSize || height > maxSize) {\n            if (width > height) {\n              height = maxSize / width * height;\n              width = maxSize;\n            } else {\n              width = maxSize / height * width;\n              height = maxSize;\n            }\n          }\n          canvas.width = width;\n          canvas.height = height;\n          ctx.drawImage(img, 0, 0, width, height);\n          canvas.toBlob(blob => {\n            if (blob) {\n              const compressedFile = new File([blob], file.name, {\n                type: 'image/jpeg',\n                lastModified: Date.now()\n              });\n              const originalSize = (file.size / 1024).toFixed(0);\n              const compressedSize = (blob.size / 1024).toFixed(0);\n              console.log('COMPRESSION OK: ' + originalSize + 'KB -> ' + compressedSize + 'KB');\n              resolve(compressedFile);\n            } else {\n              reject(new Error('Compression failed'));\n            }\n          }, 'image/jpeg', 0.7);\n        };\n        img.onerror = () => reject(new Error('Image load failed'));\n        img.src = e.target.result;\n      };\n      reader.onerror = () => reject(new Error('File read failed'));\n      reader.readAsDataURL(file);\n    });\n  };\n  const handlePhotoCapture = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n    console.log('Photo selected:', file.size, 'bytes');\n    if (file.size > 10 * 1024 * 1024) {\n      setError('Photo trop volumineuse (max 10MB)');\n      return;\n    }\n    try {\n      console.log('Starting compression...');\n      const compressedFile = await compressImage(file);\n      console.log('Compression done!');\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: compressedFile,\n          photoPreview: reader.result\n        });\n        setError('');\n      };\n      reader.readAsDataURL(compressedFile);\n    } catch (err) {\n      console.error('Compression error:', err);\n      setError('Erreur traitement photo');\n    }\n  };\n  const removePhoto = () => {\n    setFormData({\n      ...formData,\n      photo: null,\n      photoPreview: null\n    });\n    if (fileInputRef.current) fileInputRef.current.value = '';\n    if (cameraInputRef.current) cameraInputRef.current.value = '';\n  };\n  const handleGetLocation = () => {\n    if (!navigator.geolocation) {\n      setError('G√©olocalisation non disponible');\n      return;\n    }\n    setGettingLocation(true);\n    setError('');\n    navigator.geolocation.getCurrentPosition(position => {\n      setFormData({\n        ...formData,\n        location: {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        }\n      });\n      setGettingLocation(false);\n    }, err => {\n      console.error('Geo error:', err);\n      setError('Impossible obtenir position');\n      setGettingLocation(false);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 0\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.category || !formData.title) {\n      setError('Cat√©gorie et titre obligatoires');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    try {\n      console.log('Submitting remark...');\n      const submitData = new FormData();\n      submitData.append('category', formData.category);\n      submitData.append('title', formData.title);\n      submitData.append('description', formData.description);\n      if (formData.photo) {\n        console.log('Adding photo:', formData.photo.size, 'bytes');\n        submitData.append('photo', formData.photo);\n      }\n      if (formData.location) {\n        submitData.append('latitude', formData.location.lat);\n        submitData.append('longitude', formData.location.lng);\n      }\n      const result = await apiService.createRemark(submitData);\n      console.log('Result:', result);\n      if (result.success) {\n        navigate('/');\n      } else {\n        setError(result.message || 'Erreur envoi');\n      }\n    } catch (err) {\n      console.error('Submit error:', err);\n      setError('Erreur: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"add-remark-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => navigate('/'),\n        className: \"btn-back\",\n        children: \"\\u2190 Retour\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Nouvelle remarque\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '70px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"remark-form\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-banner\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setError(''),\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\uD83D\\uDCCB Informations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"category\",\n            children: \"Cat\\xE9gorie *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"category\",\n            value: formData.category,\n            onChange: e => setFormData({\n              ...formData,\n              category: e.target.value\n            }),\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"S\\xE9lectionnez...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: cat,\n              children: cat\n            }, cat, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"Titre *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"title\",\n            value: formData.title,\n            onChange: e => setFormData({\n              ...formData,\n              title: e.target.value\n            }),\n            placeholder: \"Ex: Nid de poule rue de la Gare\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"description\",\n            value: formData.description,\n            onChange: e => setFormData({\n              ...formData,\n              description: e.target.value\n            }),\n            placeholder: \"D\\xE9crivez le probl\\xE8me...\",\n            rows: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\uD83D\\uDCF8 Photo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this), formData.photoPreview ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"photo-preview\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: formData.photoPreview,\n            alt: \"Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-remove-photo\",\n            onClick: removePhoto,\n            children: \"\\uD83D\\uDDD1\\uFE0F Supprimer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"photo-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-photo\",\n            onClick: () => {\n              var _cameraInputRef$curre;\n              return (_cameraInputRef$curre = cameraInputRef.current) === null || _cameraInputRef$curre === void 0 ? void 0 : _cameraInputRef$curre.click();\n            },\n            children: [\"\\uD83D\\uDCF7\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this), \"Appareil photo\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: cameraInputRef,\n            type: \"file\",\n            accept: \"image/*\",\n            capture: \"environment\",\n            onChange: handlePhotoCapture,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-photo\",\n            onClick: () => {\n              var _fileInputRef$current;\n              return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n            },\n            children: [\"\\uD83D\\uDCC1\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 19\n            }, this), \"Choisir fichier\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileInputRef,\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handlePhotoCapture,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"\\uD83D\\uDCCD Localisation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), formData.location ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"location-success\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"location-icon\",\n            children: \"\\u2713\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"location-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Position enregistr\\xE9e\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n              children: [\"Lat: \", formData.location.lat.toFixed(6), \", Lng: \", formData.location.lng.toFixed(6)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-location-reset\",\n            onClick: () => setFormData({\n              ...formData,\n              location: null\n            }),\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn-location\",\n          onClick: handleGetLocation,\n          disabled: gettingLocation,\n          children: gettingLocation ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"spinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Localisation...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDCCD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Obtenir ma position\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn-submit\",\n        disabled: loading || !formData.category || !formData.title,\n        children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Envoi...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uD83D\\uDCE4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Envoyer la remarque\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 5\n  }, this);\n}\n_s(AddRemarkPage, \"LQGmj6ck2U6jUlE7/d3uiTfw/3I=\", false, function () {\n  return [useNavigate];\n});\n_c = AddRemarkPage;\nexport default AddRemarkPage;\nvar _c;\n$RefreshReg$(_c, \"AddRemarkPage\");","map":{"version":3,"names":["React","useState","useRef","useNavigate","apiService","jsxDEV","_jsxDEV","Fragment","_Fragment","categories","AddRemarkPage","_s","navigate","fileInputRef","cameraInputRef","formData","setFormData","category","title","description","photo","photoPreview","location","loading","setLoading","error","setError","gettingLocation","setGettingLocation","compressImage","file","Promise","resolve","reject","reader","FileReader","onload","e","img","Image","canvas","document","createElement","ctx","getContext","width","height","maxSize","drawImage","toBlob","blob","compressedFile","File","name","type","lastModified","Date","now","originalSize","size","toFixed","compressedSize","console","log","Error","onerror","src","target","result","readAsDataURL","handlePhotoCapture","files","onloadend","err","removePhoto","current","value","handleGetLocation","navigator","geolocation","getCurrentPosition","position","lat","coords","latitude","lng","longitude","enableHighAccuracy","timeout","maximumAge","handleSubmit","preventDefault","submitData","FormData","append","createRemark","success","message","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","onSubmit","htmlFor","id","onChange","required","map","cat","placeholder","rows","alt","_cameraInputRef$curre","click","ref","accept","capture","display","_fileInputRef$current","disabled","_c","$RefreshReg$"],"sources":["/Users/philippe/Desktop/saint-remeze-COMPLET-v7.2/frontend/src/pages/AddRemarkPage.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport apiService from '../services/apiService';\nimport './AddRemarkPage.css';\n\nconst categories = [\n  'Aide √† la personne',\n  'Circulation / Stationnement',\n  'Culture / √âv√©nements',\n  'Eau et Assainissement',\n  '√âcole et p√©riscolaire',\n  '√âclairage public',\n  'Espaces verts',\n  'Propret√©',\n  'Travaux / Infrastructure',\n  'Voirie',\n  'Autre'\n];\n\nfunction AddRemarkPage() {\n  const navigate = useNavigate();\n  const fileInputRef = useRef(null);\n  const cameraInputRef = useRef(null);\n  \n  const [formData, setFormData] = useState({\n    category: '',\n    title: '',\n    description: '',\n    photo: null,\n    photoPreview: null,\n    location: null\n  });\n  \n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [gettingLocation, setGettingLocation] = useState(false);\n\n  const compressImage = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        const img = new Image();\n        img.onload = () => {\n          const canvas = document.createElement('canvas');\n          const ctx = canvas.getContext('2d');\n          \n          let width = img.width;\n          let height = img.height;\n          const maxSize = 1200;\n          \n          if (width > maxSize || height > maxSize) {\n            if (width > height) {\n              height = (maxSize / width) * height;\n              width = maxSize;\n            } else {\n              width = (maxSize / height) * width;\n              height = maxSize;\n            }\n          }\n          \n          canvas.width = width;\n          canvas.height = height;\n          ctx.drawImage(img, 0, 0, width, height);\n          \n          canvas.toBlob(\n            (blob) => {\n              if (blob) {\n                const compressedFile = new File([blob], file.name, {\n                  type: 'image/jpeg',\n                  lastModified: Date.now()\n                });\n                const originalSize = (file.size / 1024).toFixed(0);\n                const compressedSize = (blob.size / 1024).toFixed(0);\n                console.log('COMPRESSION OK: ' + originalSize + 'KB -> ' + compressedSize + 'KB');\n                resolve(compressedFile);\n              } else {\n                reject(new Error('Compression failed'));\n              }\n            },\n            'image/jpeg',\n            0.7\n          );\n        };\n        img.onerror = () => reject(new Error('Image load failed'));\n        img.src = e.target.result;\n      };\n      reader.onerror = () => reject(new Error('File read failed'));\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const handlePhotoCapture = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    console.log('Photo selected:', file.size, 'bytes');\n\n    if (file.size > 10 * 1024 * 1024) {\n      setError('Photo trop volumineuse (max 10MB)');\n      return;\n    }\n\n    try {\n      console.log('Starting compression...');\n      const compressedFile = await compressImage(file);\n      console.log('Compression done!');\n      \n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setFormData({\n          ...formData,\n          photo: compressedFile,\n          photoPreview: reader.result\n        });\n        setError('');\n      };\n      reader.readAsDataURL(compressedFile);\n    } catch (err) {\n      console.error('Compression error:', err);\n      setError('Erreur traitement photo');\n    }\n  };\n\n  const removePhoto = () => {\n    setFormData({\n      ...formData,\n      photo: null,\n      photoPreview: null\n    });\n    if (fileInputRef.current) fileInputRef.current.value = '';\n    if (cameraInputRef.current) cameraInputRef.current.value = '';\n  };\n\n  const handleGetLocation = () => {\n    if (!navigator.geolocation) {\n      setError('G√©olocalisation non disponible');\n      return;\n    }\n\n    setGettingLocation(true);\n    setError('');\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        setFormData({\n          ...formData,\n          location: {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude\n          }\n        });\n        setGettingLocation(false);\n      },\n      (err) => {\n        console.error('Geo error:', err);\n        setError('Impossible obtenir position');\n        setGettingLocation(false);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 0\n      }\n    );\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!formData.category || !formData.title) {\n      setError('Cat√©gorie et titre obligatoires');\n      return;\n    }\n\n    setLoading(true);\n    setError('');\n\n    try {\n      console.log('Submitting remark...');\n      const submitData = new FormData();\n      submitData.append('category', formData.category);\n      submitData.append('title', formData.title);\n      submitData.append('description', formData.description);\n      \n      if (formData.photo) {\n        console.log('Adding photo:', formData.photo.size, 'bytes');\n        submitData.append('photo', formData.photo);\n      }\n      \n      if (formData.location) {\n        submitData.append('latitude', formData.location.lat);\n        submitData.append('longitude', formData.location.lng);\n      }\n\n      const result = await apiService.createRemark(submitData);\n      console.log('Result:', result);\n\n      if (result.success) {\n        navigate('/');\n      } else {\n        setError(result.message || 'Erreur envoi');\n      }\n    } catch (err) {\n      console.error('Submit error:', err);\n      setError('Erreur: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"add-remark-page\">\n      <header className=\"page-header\">\n        <button \n          type=\"button\"\n          onClick={() => navigate('/')} \n          className=\"btn-back\"\n        >\n          ‚Üê Retour\n        </button>\n        <h1>Nouvelle remarque</h1>\n        <div style={{width: '70px'}}></div>\n      </header>\n\n      <form onSubmit={handleSubmit} className=\"remark-form\">\n        \n        {error && (\n          <div className=\"error-banner\">\n            <span>‚ö†Ô∏è</span>\n            <span>{error}</span>\n            <button type=\"button\" onClick={() => setError('')}>‚úï</button>\n          </div>\n        )}\n\n        <div className=\"form-card\">\n          <h2 className=\"section-title\">üìã Informations</h2>\n          \n          <div className=\"form-group\">\n            <label htmlFor=\"category\">Cat√©gorie *</label>\n            <select\n              id=\"category\"\n              value={formData.category}\n              onChange={(e) => setFormData({...formData, category: e.target.value})}\n              required\n            >\n              <option value=\"\">S√©lectionnez...</option>\n              {categories.map(cat => (\n                <option key={cat} value={cat}>{cat}</option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"title\">Titre *</label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              value={formData.title}\n              onChange={(e) => setFormData({...formData, title: e.target.value})}\n              placeholder=\"Ex: Nid de poule rue de la Gare\"\n              required\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label htmlFor=\"description\">Description</label>\n            <textarea\n              id=\"description\"\n              value={formData.description}\n              onChange={(e) => setFormData({...formData, description: e.target.value})}\n              placeholder=\"D√©crivez le probl√®me...\"\n              rows=\"4\"\n            />\n          </div>\n        </div>\n\n        <div className=\"form-card\">\n          <h2 className=\"section-title\">üì∏ Photo</h2>\n          \n          {formData.photoPreview ? (\n            <div className=\"photo-preview\">\n              <img src={formData.photoPreview} alt=\"Preview\" />\n              <button \n                type=\"button\"\n                className=\"btn-remove-photo\" \n                onClick={removePhoto}\n              >\n                üóëÔ∏è Supprimer\n              </button>\n            </div>\n          ) : (\n            <div className=\"photo-buttons\">\n              <button\n                type=\"button\"\n                className=\"btn-photo\"\n                onClick={() => cameraInputRef.current?.click()}\n              >\n                üì∑<br/>Appareil photo\n              </button>\n              <input\n                ref={cameraInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                capture=\"environment\"\n                onChange={handlePhotoCapture}\n                style={{ display: 'none' }}\n              />\n\n              <button\n                type=\"button\"\n                className=\"btn-photo\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                üìÅ<br/>Choisir fichier\n              </button>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handlePhotoCapture}\n                style={{ display: 'none' }}\n              />\n            </div>\n          )}\n        </div>\n\n        <div className=\"form-card\">\n          <h2 className=\"section-title\">üìç Localisation</h2>\n          \n          {formData.location ? (\n            <div className=\"location-success\">\n              <div className=\"location-icon\">‚úì</div>\n              <div className=\"location-info\">\n                <strong>Position enregistr√©e</strong>\n                <small>Lat: {formData.location.lat.toFixed(6)}, Lng: {formData.location.lng.toFixed(6)}</small>\n              </div>\n              <button\n                type=\"button\"\n                className=\"btn-location-reset\"\n                onClick={() => setFormData({...formData, location: null})}\n              >\n                ‚úï\n              </button>\n            </div>\n          ) : (\n            <button\n              type=\"button\"\n              className=\"btn-location\"\n              onClick={handleGetLocation}\n              disabled={gettingLocation}\n            >\n              {gettingLocation ? (\n                <>\n                  <div className=\"spinner\"></div>\n                  <span>Localisation...</span>\n                </>\n              ) : (\n                <>\n                  <span>üìç</span>\n                  <span>Obtenir ma position</span>\n                </>\n              )}\n            </button>\n          )}\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn-submit\"\n          disabled={loading || !formData.category || !formData.title}\n        >\n          {loading ? (\n            <>\n              <div className=\"spinner\"></div>\n              <span>Envoi...</span>\n            </>\n          ) : (\n            <>\n              <span>üì§</span>\n              <span>Envoyer la remarque</span>\n            </>\n          )}\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default AddRemarkPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}